<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.softlab.okr.mapper.LoginLogMapper">
<<<<<<< HEAD
<<<<<<< HEAD
  <resultMap id="loginLogMap" type="com.softlab.okr.entity.LoginLog">
=======

  <resultMap id="BaseResultMap" type="com.softlab.okr.entity.LoginLog">
>>>>>>> mybatis plus重构
=======

  <resultMap id="BaseResultMap" type="com.softlab.okr.entity.LoginLog">
>>>>>>> mybatis plus重构
    <id property="loginId" column="login_id"/>
    <result property="ip" column="ip"/>
    <result property="username" column="username"/>
    <result property="path" column="path"/>
    <result property="time" column="time"/>
    <result property="duration" column="duration"/>
  </resultMap>

  <sql id="Base_Column_List">
    `login_id`,`ip`,`path`,`username`,`time`,`duration`
  </sql>

  <select id="selectByCond" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"></include>
    from `login_log`
    where 1=1
    <if test="username!='' and username!=null">
      and `username` like '%${username}%'
    </if>
    <if test="beginTime!='' and beginTime!=null">
      and date_format(`time` ,'%Y-%m-%d')&gt;=#{beginTime}
    </if>
    <if test="endTime!='' and endTime!=null">
      and date_format(`time` ,'%Y-%m-%d')&lt;=#{endTime}
    </if>
  </select>

</mapper>

