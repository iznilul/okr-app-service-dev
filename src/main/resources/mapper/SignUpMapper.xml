<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.softlab.okr.mapper.SignUpMapper">
  <resultMap id="BaseResultMap" type="com.softlab.okr.entity.SignUp">
    <id property="id" column="id"/>
    <result property="studentId" column="student_id"/>
    <result property="name" column="name"/>
    <result property="gender" column="gender"/>
    <result property="qq" column="qq"/>
    <result property="major" column="major"/>
    <result property="profile" column="profile"/>
    <result property="status" column="status"/>
    <result property="comment" column="comment"/>
    <result property="createTime" column="create_time"/>
    <result property="updateTime" column="update_time"/>
  </resultMap>

  <resultMap id="VoMap" type="com.softlab.okr.model.vo.SignUpVO">
    <id property="id" column="id"/>
    <result property="studentId" column="student_id"/>
    <result property="name" column="name"/>
    <result property="gender" column="gender"/>
    <result property="qq" column="qq"/>
    <result property="major" column="major"/>
    <result property="profile" column="profile"/>
    <result property="status" column="status"/>
    <result property="comment" column="comment"/>
    <result property="updateTime" column="update_time"/>
  </resultMap>

  <sql id="Base_Column_List">
    `id`,`student_id`, `name`, `gender`, `qq`, `major`, `profile`, `status`,
    `comment`,`create_time`,`update_time`
  </sql>

  <sql id="VoColumn">
    `id`,`student_id`, `name`, `gender`, `qq`, `major`, `profile`, `status`,
    `comment`,`update_time`
  </sql>

  <select id="selectSignUpByCond" resultMap="VoMap">
    select
    <include refid="VoColumn"></include>
    from
    signup
    where 1=1
    <if test="dto.studentId!='' and dto.studentId!=null">and student_id=#{dto.studentId}</if>
    <if test="dto.name!='' and dto.name!=null">and `name` like '%${dto.name}%'</if>
    <if test="dto.gender!='' and dto.gender!=null">and gender=#{dto.gender}</if>
    <if test="dto.qq!='' and dto.qq!=null">and `qq` like '%${dto.qq}%'</if>
    <if test="dto.major!='' and dto.major!=null">and major like '%${dto.major}%'</if>
    <if test="dto.status!=null">and status=#{dto.status}</if>
  </select>

</mapper>
